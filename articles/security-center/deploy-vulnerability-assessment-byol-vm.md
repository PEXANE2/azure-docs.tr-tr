---
title: Azure Güvenlik Merkezi 'nde KLG VM Güvenlik açığı değerlendirmesi
description: Azure Güvenlik Merkezi 'nde sanal makinelerinizi korumanıza yardımcı olabilecek öneriler almak için Azure sanal makinelerinizde bir KLG güvenlik açığı değerlendirme çözümü dağıtın.
services: security-center
documentationcenter: na
author: memildin
manager: rkarlin
ms.service: security-center
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 08/20/2020
ms.author: memildin
ms.openlocfilehash: 98104f3bb183168f25ffa324f54a8a47a79866e3
ms.sourcegitcommit: 3fb5e772f8f4068cc6d91d9cde253065a7f265d6
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/31/2020
ms.locfileid: "89183712"
---
# <a name="deploy-a-bring-your-own-license-byol-vulnerability-assessment-solution"></a>Kendi lisansını getir (KLG) güvenlik açığı değerlendirme çözümünü dağıtma

Standart katmanındaysa, [sanal makineler Için tümleşik güvenlik açığı tarayıcısı](built-in-vulnerability-assessment.md)bölümünde açıklandığı gibi Azure Güvenlik Merkezi 'nin yerleşik güvenlik açığı değerlendirme aracı 'nı kullanabilirsiniz. Bu araç Standart katmana sorunsuz bir şekilde tümleştirilir ve herhangi bir dış lisans gerektirmez; her şey güvenlik merkezi 'Nde sorunsuz şekilde işlenir.

Alternatif olarak, [Qualys](https://www.qualys.com/lp/azure) veya [Rapid7](https://www.rapid7.com/products/insightvm/)' den özel olarak lisanslanmış güvenlik açığı değerlendirme çözümünüzü dağıtmak isteyebilirsiniz. Bu iş ortağı çözümlerinden birini, aynı aboneliğe ait birden çok VM 'ye yükleyebilirsiniz.

## <a name="deploy-a-byol-solution-from-the-azure-portal"></a>Azure portal bir KLG çözümünü dağıtma

KLG seçenekleri, desteklenen üçüncü taraf güvenlik açığı değerlendirme çözümlerine başvurur. Şu anda Qualys ve Rapid7 desteklenen sağlayıcılardır.

Desteklenen çözümler, güvenlik açığı verilerini iş ortağının yönetim platformuna bildirir. Buna karşılık, bu platform Güvenlik Merkezi 'ne geri güvenlik açığı ve sistem durumu izleme verileri sağlar. Güvenlik Merkezi panosunda güvenlik açığı bulunan VM 'Leri tanımlayabilir ve ek raporlar ve bilgiler için doğrudan güvenlik merkezi 'nden iş ortağı yönetim konsoluna geçiş yapabilirsiniz.

1. [Azure Portal](https://azure.microsoft.com/features/azure-portal/), **Güvenlik Merkezi**'ni açın.

1. Güvenlik Merkezi 'nin menüsünde, **öneriler** sayfasını açın.

1. **Bir güvenlik açığı değerlendirme çözümünün sanal makinelerinizde etkinleştirilmesi gerektiğine**yönelik öneri ' i seçin.

    :::image type="content" source="./media/deploy-vulnerability-assessment-vm/recommendation-page-machine-groupings.png" alt-text="* * Bir güvenlik açığı değerlendirme çözümünde makinelerin gruplandırmaları sanal makinelerinizde etkinleştirilmelidir * * öneri sayfası" lightbox="./media/deploy-vulnerability-assessment-vm/recommendation-page-machine-groupings.png":::

    VM 'niz aşağıdaki gruplardan bir veya daha fazla görünür:

    * **Sağlıklı kaynaklar** – Güvenlik Merkezi, bu VM 'lerde çalışan bir güvenlik açığı değerlendirme çözümü algıladı.
    * **Sağlıksız kaynaklar** – bu sanal makinelere bir güvenlik açığı tarayıcı uzantısı dağıtılabilir. 
    * **Geçerli olmayan kaynaklar** : Bu VM 'lerde bir güvenlik açığı tarayıcı uzantısı dağıtılabilir.

1. Sağlıksız makineler listesinden bir güvenlik açığı değerlendirme çözümü alacak olanları seçin ve **Düzelt**' i seçin.

    >[!IMPORTANT]
    > Yapılandırmanıza bağlı olarak, bu listenin yalnızca bir alt kümesini görebilirsiniz. 
    >
    > - Yapılandırılmış bir üçüncü taraf güvenlik açığı tarayıcısı yoksa, bunu dağıtma fırsatı sunulmaz.
    > - Seçtiğiniz VM 'Ler Standart katmanda değilse, ASC tümleşik güvenlik açığı tarayıcısı seçeneği kullanılamaz.

    :::image type="content" source="./media/deploy-vulnerability-assessment-vm/recommendation-remediation-options.png" alt-text="Önerisine yanıt verme sırasında seçmek istediğiniz düzeltme akışı türü için seçenekler * * sanal makinelerinizde bir güvenlik açığı değerlendirme çözümü etkinleştirilmelidir * * öneri sayfası":::

1. Yeni bir KLG yapılandırması ayarlıyorsanız, **Yeni bir üçüncü taraf güvenlik açığı tarayıcısı Yapılandır**' ı seçin, **devam**' ı seçin ve sağlayıcıdan ayrıntıları aşağıdaki gibi girin:

    1. **Kaynak grubu** olarak **Var olanı kullan**’ı seçin.
    1. **Konum** olarak, çözümün coğrafi konumunu seçin.
    1. Qualys için, Qualys tarafından sunulan lisansı **Lisans kodu** alanına girin.
    1. Rapid7 için **Rapid7 yapılandırma dosyasını**karşıya yükleyin.
    1. **Ortak anahtar** kutusuna ortağın sunduğu ortak anahtar bilgilerini girin.
    1. Bu güvenlik açığı değerlendirmesi aracısını, bu çözümün aboneliğindeki tüm bulunan VM 'Lere otomatik olarak yüklemek için **Otomatik dağıt**' ı seçin.
    1. **Tamam**’ı seçin.

1. KLG çözümünüzü zaten oluşturduysanız, **yapılandırılmış üçüncü taraf güvenlik açığı tarayıcınızı dağıt**' ı seçin ve **devam edin**.

Güvenlik açığı değerlendirme çözümü hedef makinelere yüklendikten sonra, Güvenlik Merkezi, sistem ve uygulamadaki güvenlik açıklarını algılayıp belirlemek için bir tarama yapar. İlk taramanın tamamlanması birkaç saat sürebilir. Bundan sonra saatlik olarak çalışır.



## <a name="deploy-a-byol-solution-using-powershell-and-the-rest-api"></a>PowerShell ve REST API kullanarak bir KLG çözümü dağıtın

Özel olarak lisanslanan güvenlik açığı değerlendirme çözümünüzü [Qualys](https://www.qualys.com/lp/azure) veya [Rapid7](https://www.rapid7.com/products/insightvm/)adresinden dağıtmak Için, sağlanan betik [PowerShell > güvenlik açığı çözümünü](https://github.com/Azure/Azure-Security-Center/tree/master/Powershell%20scripts/Vulnerability%20Solution)kullanın. Bu betik, ASC 'de yeni bir güvenlik çözümü oluşturmak için REST API kullanır. Hizmet sağlayıcınız (Qualys veya Rapid7) tarafından sağlanmış bir lisansa ve anahtara ihtiyacınız vardır.

> [!IMPORTANT] 
> Her lisans için yalnızca bir çözüm oluşturulabilir. Aynı ad/lisans/anahtar kullanılarak başka bir çözüm oluşturulmaya çalışılması başarısız olur.

### <a name="prerequisites"></a>Ön koşullar

Gerekli PowerShell modülleri:

- -Modülünü-Install az
- -Modülünü-Install az. Security

### <a name="run-the-script"></a>Betiği çalıştırın

Betiği çalıştırmak için aşağıdaki parametrelere ilişkin ilgili bilgilere ihtiyacınız olacaktır.

| **Parametre** | **Gerekli** | **Notlar** |
|----|:----:|----|
|**kaynak grubundaki**|✔|Analiz etmek istediğiniz kaynakları içeren Azure aboneliğinin abonelik kimliği.|
|**ResourceGroupName**|✔|Kaynak grubunun adı. Varsayılan ("DefaultResourceGroup-xxx") dahil olmak üzere var olan herhangi bir kaynak grubunu kullanın. Çözüm bir Azure kaynağı olmadığından, kaynak grubu altında listelenmez, ancak hala buna iliştirilir.|
|**vaSolutionName**|✔|Yeni çözümün adı.|
|**vaType**|✔|Qualys veya Rapid7.|
|**licenceCode**|✔|Satıcı tarafından sağlanmış lisans dizesi.|
|**publicKey**|✔|Satıcı ortak anahtar sağladı.|
|**Otomatik**|-|Bu VA çözümü için otomatik dağıtımı etkinleştirin (true) veya devre dışı bırakın (false). Etkinleştirildiğinde, aboneliğin her yeni sanal makine otomatik olarak çözüme bağlanmayı dener.<br/>(Varsayılan: false)|
||||

Söz dizimi:

```azurepowershell
.\New-ASCVASolution.ps1 -subscriptionId <Subscription Id> -resourceGroupName <RG Name>
-vaSolutionName <New solution name> -vaType <Qualys / Rapid7> -autoUpdate <true/false>
-licenceCode <License code from vendor> -publicKey <Public Key received from vendor>
```

Örnek (Bu örnek geçerli lisans ayrıntıları içermez):

```azurepowershell
.\New-ASCVASolution.ps1 -subscriptionId 'f4cx1b69-dtgb-4ch6-6y6f-ea2e95373d3b' -resourceGroupName 'DefaultResourceGroup-WEU' -vaSolutionName 'QualysVa001' -vaType 'Qualys' -autoUpdate 'false' `
-licenceCode 'eyJjaWQiOiJkZDg5OTYzXe4iMTMzLWM4NTAtODM5FD2mZWM1N2Q3ZGU5MjgiLCJgbTYuOiIyMmM5NDg3MS1lNTVkLTQ1OGItYjhlMC03OTRhMmM3YWM1ZGQiLCJwd3NVcmwiOiJodHRwczovL3FhZ3B1YmxpYy1wMDEuaW50LnF1YWx5cy5jb20vQ2xvdSKJY6VudC8iLCJwd3NQb3J0IjoiNDQzIn0=' `
-publicKey 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCOiOLXjOywMfLZIBGPZLwSocf1Q64GASLK9OHFEmanBl1nkJhZDrZ4YD5lM98fThYbAx1Rde2iYV1ze/wDlX4cIvFAyXuN7HbdkeIlBl6vWXEBZpUU17bOdJOUGolzEzNBhtxi/elEZLghq9Chmah82me/okGMIhJJsCiTtglVQIDAQAB'
```

## <a name="next-steps"></a>Sonraki adımlar

> [!div class="nextstepaction"]
> [Güvenlik açığı değerlendirme çözümünüzdeki bulguları düzeltin](remediate-vulnerability-findings-vm.md)


Güvenlik Merkezi, için güvenlik açığı analizini de sunmaktadır:

- SQL veritabanları-bkz [. güvenlik açığı değerlendirme panosundaki güvenlik açığı değerlendirmesi raporlarını inceleyin](security-center-iaas-advanced-data.md#explore-vulnerability-assessment-reports)
- Azure Container Registry görüntüleri- [Güvenlik Merkezi ile Azure Container Registry tümleştirmesini](azure-container-registry-integration.md) öğrenin